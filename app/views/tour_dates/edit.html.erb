<% content_for :custom_css do %>
<link rel="stylesheet" type="text/css" href="/files/bower_components/bootstrap-datepicker/css/bootstrap-datepicker.css">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-datetimepicker/4.7.14/css/bootstrap-datetimepicker.min.css">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/datepicker/0.6.5/datepicker.min.css" />

<% end %>
<% content_for :content do %>

<div class="main-body" style="margin-top: -78px;">
  <div class="page-wrapper">
    <!-- Page-body start -->
    <div class="page-body">
      <div class="row">
        <div class="col-lg-12 mx-auto">
          <div class="card">

            <div class="card-body">

              <div style="font-family: Roboto">
                <div class="card-title">
                  <h5 class="mb-3 mb-sm-0 text-uppercase text-dark" style="padding-bottom: 30px;">
                    <%= link_to "<i class='fa fa-reply'></i>back to tour_dates".html_safe,"/tour_dates", class: "mb-3 mb-sm-0 text-uppercase text-dark" %>
                  </h5>

                  <h4 class="mb-3 mb-sm-0 text-uppercase">Edit Tour Dates</h4>
                </div>
                <hr>
                <form id="the_form" class="form-material" action="/tour_dates/<%= @tour_date.id %>" method="post">
                <input type="hidden" name="_method" value="put">
                  <div class="form-group form-group-art position-relative mb-4">
                    <h5>Date</h5>
                    <div class="form-group-inner d-inline-block w-100">
                      <input type="text" name="date" class="form-control" id="datepicker" placeholder="Date..." required="" value="<%= @tour_date.date.strftime('%m/%d/%Y') if @tour_date.date.present? %>" autocomplete="off">
                      <span class="form-bar"></span>
                    </div>
                  </div>
                  <div class="form-group form-group-art position-relative mb-4">
                    <h5>Door Time</h5>
                      <div class="form-group-inner d-inline-block w-100">
                        <div class='input-group date' id='datetimepicker1'>
                          <input type="text" name="door_time" class="form-control" id="datepicker1" placeholder="Door Time of tour" required="" value="<%= @tour_date.door_time.strftime('%Y-%m-%d %H:%M') if @tour_date.door_time.present? %>">
                          <span class="input-group-addon">
                            <i class="icon-calendar"></i>
                          </span>
                        </div>
                      </div>
                  </div>
                  <div id="door-time" data-val= "<%= @tour_date.door_time.strftime('%Y-%m-%d %H:%M') if @tour_date.door_time.present? %>"></div>
                  <div class="form-group form-group-art position-relative mb-4">
                    <h5>Show Time</h5>
                      <div class="form-group-inner d-inline-block w-100">
                        <div class='input-group date' id='datetimepicker2'>
                          <input type="text" name="show_time" class="form-control" id="datepicker2" placeholder="Door Time of tour" required="" value="<%= @tour_date.show_time.strftime('%Y-%m-%d %H:%M') if @tour_date.show_time.present? %>">
                          <span class="input-group-addon">
                            <i class="icon-calendar"></i>
                          </span>
                        </div>
                      </div>
                  </div>
                  <div id="show-time" data-val= "<%= @tour_date.show_time.strftime('%Y-%m-%d %H:%M') if @tour_date.show_time.present? %>"></div>
                  <div class="form-group form-group-art position-relative mb-4">
                    <h5>Ticket Price</h5>
                    <div class="form-group-inner d-inline-block w-100">
                      <input type="number" name="ticket_price" step="0.01" class="form-control" placeholder="Ticket Price" required="" value="<%= @tour_date.ticket_price %>">
                      <span class="form-bar"></span>
                    </div>
                  </div>

                  <div id="nestable-menu" class="form-group mt-4 mb-0">
                    <button type="submit" id="btn-create" class="btn btn-dark py-3 px-5">Update it...</button>
                  </div>
                </form>
            </div>
            </div>
          </div>
          <!-- Inline editable card start -->
        </div>
      </div>
    </div>
    <!-- Page-body end -->
  </div>
</div>
<!-- Main body end -->
<% end %>

<% content_for :custom_js do %>
<script type="text/javascript" src="/files/assets/pages/jquery.filer/js/jquery.filer.min.js"></script>
<script type="text/javascript" src="/vendor/jquery-validation-1.17.0/jquery.validate-1.17.0.js"></script>

<script src="https://cdnjs.cloudflare.com/ajax/libs/moment.js/2.15.1/moment.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/js/bootstrap.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-datetimepicker/4.7.14/js/bootstrap-datetimepicker.min.js"></script>
<script type="text/javascript">
  $(function() {
    $('#datetimepicker1').datetimepicker({ format:'YYYY-MM-DD HH:mm'});
    $('#datetimepicker2').datetimepicker({ format:'YYYY-MM-DD HH:mm'});
  });
</script>

<script src="https://cdnjs.cloudflare.com/ajax/libs/datepicker/0.6.5/datepicker.js"></script>
<script type="text/javascript">
    $( function() {
      $( "#datepicker" ).datepicker({ format: 'YYYY-MM-DD' });
    } );

    setTimeout(function() { 
      $('#datepicker1').val($('#door-time').data("val"));
      $('#datepicker2').val($('#show-time').data("val"));
     }, 50);
  
</script>

</script>
<% end %>
